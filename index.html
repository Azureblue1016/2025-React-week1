<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025-React-week1</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        img {
            object-fit: contain;
            max-width: 100%;
        }
        .primary-image {
            height: 300px;
        }
        .images {
            height: 150px;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.20.7/babel.min.js"></script>
    <script type="text/babel">
        function App() {
            const [tempProduct, setTempProduct] = React.useState(null);
            const [products, setProducts] = React.useState([
                {
                    category: "甜甜圈",
                    content: "尺寸：14x14cm",
                    description: "濃郁的草莓風味，中心填入滑順不膩口的卡士達內餡，帶來滿滿幸福感！",
                    id: "-L9tH8jxVb2Ka_DYPwng",
                    is_enabled: 1,
                    origin_price: 150,
                    price: 99,
                    title: "草莓莓果夾心圈",
                    unit: "元",
                    num: 10,
                    imageUrl: "https://images.unsplash.com/photo-1583182332473-b31ba08929c8",
                    imagesUrl: [
                        "https://images.unsplash.com/photo-1626094309830-abbb0c99da4a",
                        "https://images.unsplash.com/photo-1559656914-a30970c1affd"
                    ]
                }
            ]);

            return (
                <div className="container">
                    <div className="row mt-5">
                        <div className="col-md-6">
                            <h2>產品列表</h2>
                            <table className="table">
                                <thead>
                                    <tr>
                                        <th>產品名稱</th>
                                        <th>原價</th>
                                        <th>售價</th>
                                        <th>是否啟用</th>
                                        <th>查看細節</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {products.map((item) => (
                                        <tr key={item.id}>
                                            <td>{item.title}</td>
                                            <td>{item.origin_price}</td>
                                            <td>{item.price}</td>
                                            <td>{item.is_enabled ? '啟用' : '未啟用'}</td>
                                            <td>
                                                <button className="btn btn-primary" onClick={() => setTempProduct(item)}>查看細節</button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                        <div className="col-md-6">
                            <h2>單一產品細節</h2>
                            {tempProduct ? (
                                <div className="card mb-3">
                                    <img src={tempProduct.imageUrl} className="card-img-top primary-image" alt="主圖" />
                                    <div className="card-body">
                                        <h5 className="card-title">
                                            {tempProduct.title}
                                            <span className="badge bg-primary ms-2">{tempProduct.category}</span>
                                        </h5>
                                        <p className="card-text">商品描述：{tempProduct.description}</p>
                                        <p className="card-text">商品內容：{tempProduct.content}</p>
                                        <div className="d-flex">
                                            <p className="card-text text-secondary"><del>{tempProduct.origin_price}</del></p>
                                            <p className="ms-2">{tempProduct.price} 元</p>
                                        </div>
                                        <h5 className="mt-3">更多圖片：</h5>
                                        <div className="d-flex flex-wrap">
                                            {tempProduct.imagesUrl.map((img, index) => (
                                                <img key={index} src={img} className="images" alt={`圖片 ${index + 1}`} />
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            ) : (
                                <p className="text-secondary">請選擇一個商品查看</p>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
